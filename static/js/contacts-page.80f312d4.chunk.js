"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[141],{329:function(n,e,t){t.d(e,{P1:function(){return f},RZ:function(){return x},TA:function(){return h},Tw:function(){return p},tL:function(){return d}});var r,o,i,a,u,c=t(168),l=t(6031),s=t(8026),m=t(4373),d=l.ZP.form(r||(r=(0,c.Z)(["\n  min-width: 350px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 10px;\n  padding: 20px;\n  background-color: ",";\n\n  & p {\n    color: ",";\n    font-size: 12px;\n  }\n\n  & p::before {\n    display: inline;\n    content: '\u26a0  ';\n  }\n\n  & > button {\n    margin-top: 20px;\n  }\n"])),(function(n){return n.theme.bgColor}),(function(n){return n.theme.bgElementColor})),f=l.ZP.label(o||(o=(0,c.Z)(["\n  display: block;\n  font-weight: ",";\n  color: ",";\n  text-align: center;\n\n  & + & {\n    margin-top: 20px;\n  }\n"])),(function(n){return n.theme.mainTextFontWeight}),(function(n){return n.theme.textColor})),p=(0,l.ZP)(m.QAE)(i||(i=(0,c.Z)(["\n  width: 24px;\n  height: 24px;\n  color: ",";\n  transition: color ","\n    ",";\n\n  &:hover,\n  &:focus {\n    color: ",";\n  }\n"])),(function(n){return n.theme.textColor}),(function(n){return n.theme.animationDuration}),(function(n){return n.theme.animationTimeFunction}),(function(n){return n.theme.bgElementColor})),h=(0,l.ZP)(s.II)(a||(a=(0,c.Z)([""]))),x=(0,l.ZP)(s.zx)(u||(u=(0,c.Z)([""])))},8026:function(n,e,t){t.d(e,{II:function(){return x},__:function(){return h},aN:function(){return b},l0:function(){return p},zx:function(){return g}});var r,o,i,a,u,c=t(168),l=t(6031),s=t(6699),m=t.n(s),d=t(4206),f=t.n(d),p=l.ZP.form(r||(r=(0,c.Z)(["\n  max-width: 300px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 10px;\n  padding: 20px;\n  background-color: ",";\n"])),(function(n){return n.theme.bgColor})),h=l.ZP.label(o||(o=(0,c.Z)(["\n  display: block;\n  font-weight: ",";\n  color: ",";\n  text-align: center;\n  & + & {\n    margin-top: 10px;\n    margin-bottom: 20px;\n  }\n"])),(function(n){return n.theme.mainTextFontWeight}),(function(n){return n.theme.textColor})),x=(0,l.ZP)(m())(i||(i=(0,c.Z)(["\n  display: block;\n  margin-top: 5px;\n  width: 100%;\n  height: 30px;\n  padding: 5px;\n  font-size: 15px;\n  font-weight: 500;\n  border: solid 1px;\n  border-radius: 5px;\n  color: #a7a3a3a9;\n  border-color: ",";\n  background-color: ",";\n  transition: border-color ","\n    ",";\n  transition: color 1000ms ",";\n  &:hover,\n  &:focus {\n    border-color: ",";\n    color: inherit;\n  }\n"])),(function(n){return n.theme.bgElementColor}),(function(n){return n.theme.bgColor}),(function(n){return n.theme.hoverTransition}),(function(n){return n.theme.hoverTimeFunction}),(function(n){return n.theme.hoverTimeFunction}),(function(n){return n.theme.bgElementHoverColor})),g=l.ZP.button(a||(a=(0,c.Z)(["\n  width: 120px;\n  padding: 10px;\n  margin-right: 5px;\n  margin-left: auto;\n  margin-right: auto;\n  color: ",";\n  background-color: ",";\n  transition: background-color ","\n    ",";\n  &:hover,\n  &:focus {\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.elementColor}),(function(n){return n.theme.bgElementColor}),(function(n){return n.theme.hoverTransition}),(function(n){return n.theme.hoverTimeFunction}),(function(n){return n.theme.bgElementHoverColor})),b=(0,l.ZP)(f())(u||(u=(0,c.Z)(["\n  margin-left: 5px;\n"])))},506:function(n,e,t){t.r(e),t.d(e,{default:function(){return fn}});var r,o,i=t(2791),a=t(5048),u=t(9295),c=t(577),l=t(3184),s=t(9652),m=t(168),d=t(6031),f=t(4507),p=d.ZP.div(r||(r=(0,m.Z)(["\n  position: relative;\n  padding: 20px;\n\n  @media "," {\n    padding-top: 50px;\n  }\n  & > button {\n    position: absolute;\n    top: 20px;\n    right: 20px;\n    @media "," {\n      position: absolute;\n      padding: 10px 10px;\n      top: 10px;\n      right: 15px;\n    }\n  }\n"])),f.U.mobileM,f.U.mobileM),h=(0,d.ZP)(c.Ix)(o||(o=(0,m.Z)(["\n  &&&.Toastify__toast-container {\n  }\n  .Toastify__toast {\n    color: ",";\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.textColor}),(function(n){return n.theme.bgColor})),x=t(8727),g=t(5861),b=t(885),v=t(7757),Z=t.n(v),j=t(8026),C=t(3329),k=function(n){var e=n.data,t=(0,i.useState)(""),r=(0,b.Z)(t,2),o=r[0],a=r[1],u=(0,i.useState)(""),l=(0,b.Z)(u,2),m=l[0],d=l[1],f=e.map((function(n){return n.name.toLowerCase()})),p=(0,s.Tn)(),h=(0,b.Z)(p,2),x=h[0],v=h[1].isLoading,k=function(n){var e=n.target,t=e.name,r=e.value;switch(t){case"name":a(r);break;case"number":d(r);break;default:return}},w=function(){var n=(0,g.Z)(Z().mark((function n(e){return Z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),!f.includes(o.toLowerCase())){n.next=5;break}return c.Am.error("".concat(o," is already in contacts")),y(),n.abrupt("return");case 5:if(!(m.replace(/[^0-9]/g,"").length<12)){n.next=9;break}return c.Am.error("Enter full telephone number"),n.abrupt("return");case 9:x({name:o,number:m}),y(),c.Am.success("Contact was added");case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),y=function(){a(""),d("")};return(0,C.jsxs)(j.l0,{onSubmit:w,children:[(0,C.jsxs)(j.__,{children:["Name",(0,C.jsx)(j.II,{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",maxLength:"30",required:!0,value:o,onChange:k})]}),(0,C.jsxs)(j.__,{children:["Number",(0,C.jsx)(j.II,{type:"tel",name:"number",mask:"+ 999-99-99-99-999",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:m,onChange:k})]}),(0,C.jsxs)(j.zx,{type:"submit",children:["Add contact",v&&(0,C.jsx)(j.aN,{size:20,color:"white","aria-label":"loading"})]})]})},w=function(n,e){var t=e.filter.toLowerCase();return n.filter((function(n){return n.name.toLowerCase().includes(t)}))},y=t(3366),E=t(7462);var T=t(1721),P=t(5545);function R(n,e){var t=Object.create(null);return n&&i.Children.map(n,(function(n){return n})).forEach((function(n){t[n.key]=function(n){return e&&(0,i.isValidElement)(n)?e(n):n}(n)})),t}function I(n,e,t){return null!=t[e]?t[e]:n.props[e]}function O(n,e,t){var r=R(n.children),o=function(n,e){function t(t){return t in e?e[t]:n[t]}n=n||{},e=e||{};var r,o=Object.create(null),i=[];for(var a in n)a in e?i.length&&(o[a]=i,i=[]):i.push(a);var u={};for(var c in e){if(o[c])for(r=0;r<o[c].length;r++){var l=o[c][r];u[o[c][r]]=t(l)}u[c]=t(c)}for(r=0;r<i.length;r++)u[i[r]]=t(i[r]);return u}(e,r);return Object.keys(o).forEach((function(a){var u=o[a];if((0,i.isValidElement)(u)){var c=a in e,l=a in r,s=e[a],m=(0,i.isValidElement)(s)&&!s.props.in;!l||c&&!m?l||!c||m?l&&c&&(0,i.isValidElement)(s)&&(o[a]=(0,i.cloneElement)(u,{onExited:t.bind(null,u),in:s.props.in,exit:I(u,"exit",n),enter:I(u,"enter",n)})):o[a]=(0,i.cloneElement)(u,{in:!1}):o[a]=(0,i.cloneElement)(u,{onExited:t.bind(null,u),in:!0,exit:I(u,"exit",n),enter:I(u,"enter",n)})}})),o}var F=Object.values||function(n){return Object.keys(n).map((function(e){return n[e]}))},N=function(n){function e(e,t){var r,o=(r=n.call(this,e,t)||this).handleExited.bind(function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}(0,T.Z)(e,n);var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(n,e){var t,r,o=e.children,a=e.handleExited;return{children:e.firstRender?(t=n,r=a,R(t.children,(function(n){return(0,i.cloneElement)(n,{onExited:r.bind(null,n),in:!0,appear:I(n,"appear",t),enter:I(n,"enter",t),exit:I(n,"exit",t)})}))):O(n,o,a),firstRender:!1}},t.handleExited=function(n,e){var t=R(this.props.children);n.key in t||(n.props.onExited&&n.props.onExited(e),this.mounted&&this.setState((function(e){var t=(0,E.Z)({},e.children);return delete t[n.key],{children:t}})))},t.render=function(){var n=this.props,e=n.component,t=n.childFactory,r=(0,y.Z)(n,["component","childFactory"]),o=this.state.contextValue,a=F(this.state.children).map(t);return delete r.appear,delete r.enter,delete r.exit,null===e?i.createElement(P.Z.Provider,{value:o},a):i.createElement(P.Z.Provider,{value:o},i.createElement(e,r,a))},e}(i.Component);N.propTypes={},N.defaultProps={component:"div",childFactory:function(n){return n}};var _,A,L,z,S,D=N,V=d.ZP.div(_||(_=(0,m.Z)(["\n  .contactsList {\n    max-width: 500px;\n    margin-right: auto;\n    margin-left: auto;\n  }\n\n  .contact-item-enter {\n    transform: translateX(-200px);\n    opacity: 0;\n  }\n\n  .contact-item-enter-active {\n    transform: translateX(0px);\n    opacity: 1;\n    transition: all 300ms linear;\n  }\n\n  .contact-item-exit {\n    transform: translateX(0px);\n    opacity: 1;\n  }\n\n  .contact-item-exit-active {\n    transform: translateX(-200px);\n    opacity: 0;\n    transition: all 300ms linear;\n  }\n\n  & li + li {\n    margin-top: 10px;\n  }\n"]))),M=t(1413),q=t(5987),Y=t(7692),B=t(9540),U=d.ZP.li(A||(A=(0,m.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 5px 10px;\n  font-weight: ",";\n  color: ",";\n  background-color: ",";\n  border-radius: 5px;\n\n  & img {\n    width: 48px;\n  }\n"])),(function(n){return n.theme.mainTextFontWeight}),(function(n){return n.theme.textColor}),(function(n){return n.theme.listItemBcgColor})),W=d.ZP.div(L||(L=(0,m.Z)(["\n  width: 90px;\n  display: flex;\n  justify-content: space-between;\n"]))),X=["item","onClick","onInfo","animationTimeOut"],H=function(n){var e=n.item,t=n.onClick,r=n.onInfo,o=n.animationTimeOut,a=(0,q.Z)(n,X),c=e.id,l=e.name,s=e.number,m=(0,i.useRef)(null);return(0,C.jsx)(u.Z,(0,M.Z)((0,M.Z)({},a),{},{nodeRef:m,timeout:o,classNames:"contact-item",children:(0,C.jsxs)(U,{ref:m,children:[(0,C.jsx)(Y.ePx,{size:"48"}),l,":",(0,C.jsx)("span",{children:s}),(0,C.jsxs)(W,{children:[(0,C.jsx)(B.Z,{onClick:function(){return r(c)},children:"Edit"}),(0,C.jsx)(B.Z,{onClick:function(){return t(c)},children:"Delete"})]})]})}))},J=function(n){var e=n.data,t=n.onClick,r=n.onInfo,o=n.animationTimeOut,i=(0,a.v9)((function(n){return n.rootReducer})),u=w(e,i),c=(0,a.I0)(),s=function(n){console.log(n),c((0,l.VN)(!0)),t(n)},m=function(n){c((0,l.D5)(!0)),r(n)};return(0,C.jsx)(V,{children:(0,C.jsx)(D,{component:"ul",className:"contactsList",children:u.map((function(n){return(0,C.jsx)(H,{item:n,onClick:function(n){return s(n)},onInfo:function(n){return m(n)},animationTimeOut:o},n.id)}))})})},Q=t(4164),$=t(5290),G=t(5970),K=t(2447),nn=t(329),en=document.querySelector("#modal-root"),tn=(0,i.forwardRef)((function(n,e){var t=n.id,r=n.data,o=(0,s.i)(),i=(0,b.Z)(o,2),u=i[0],m=i[1];console.log(m);var d=(0,a.I0)(),f=t,p=r.find((function(n){return n.id===f})),h=p.name,x=p.number,g=(0,$.cI)({criteriaMode:"all"}),v=g.register,Z=g.handleSubmit,j=g.formState.errors;return(0,Q.createPortal)((0,C.jsx)(K.Y,{ref:e,children:(0,C.jsxs)(K.u,{children:[(0,C.jsx)(B.Z,{onClick:function(){return d((0,l.D5)(!1))},bgColor:!1,children:(0,C.jsx)(nn.Tw,{})}),(0,C.jsxs)(nn.tL,{onSubmit:Z((function(n){var e=n.name,t=n.number;t.replace(/[^0-9]/g,"").length<12?c.Am.error("Enter full telephone number"):(u({id:f,name:e,number:t}),d((0,l.D5)(!1)))})),children:[(0,C.jsxs)(nn.P1,{children:["Name",(0,C.jsx)(nn.TA,(0,M.Z)({defaultValue:h},v("name",{required:"Name is required.",pattern:/[A-Za-z]{3}/,maxLength:{value:30,message:"This input exceed maxLength."}}))),(0,C.jsx)(G.B,{errors:j,name:"name",render:function(n){var e=n.messages;return e&&Object.entries(e).map((function(n){var e=(0,b.Z)(n,2),t=e[0],r=e[1];return(0,C.jsx)("p",{children:r},t)}))}})]}),(0,C.jsxs)(nn.P1,{children:["Number",(0,C.jsx)(nn.TA,(0,M.Z)({defaultValue:x,mask:"+ 999-99-99-99-999"},v("number",{required:"Number is required."}))),(0,C.jsx)(G.B,{errors:j,name:"number",render:function(n){var e=n.messages;return e&&Object.entries(e).map((function(n){var e=(0,b.Z)(n,2),t=e[0],r=e[1];return(0,C.jsx)("p",{children:r},t)}))}})]}),j.exampleRequired&&(0,C.jsx)("span",{children:"This field is required"}),(0,C.jsx)(nn.RZ,{type:"submit",children:"Submit"})]})]})}),en)})),rn=t(4443),on=d.ZP.label(z||(z=(0,m.Z)(["\n  font-weight: ",";\n  & > input {\n    margin-left: 10px;\n    margin-bottom: 20px;\n    width: 200px;\n    height: 30px;\n    padding: 5px;\n    font-size: 15px;\n    font-weight: 500;\n    color: ",";\n    border-color: ",";\n    background-color: ",";\n    transition: border-color ","\n      ",";\n\n    &:hover,\n    &:focus {\n      border-color: ",";\n    }\n\n    @media "," {\n      margin-left: 0px;\n      margin-top: 10px;\n    }\n  }\n"])),(function(n){return n.theme.mainTextFontWeight}),(function(n){return n.theme.textColor}),(function(n){return n.theme.bgElementColor}),(function(n){return n.theme.bgColor}),(function(n){return n.theme.hoverTransition}),(function(n){return n.theme.hoverTimeFunction}),(function(n){return n.theme.bgElementHoverColor}),f.U.mobileM),an=function(){var n=(0,a.v9)((function(n){return n.rootReducer.filter})),e=(0,a.I0)();return(0,C.jsxs)(on,{children:["Find contacts by name",(0,C.jsx)("input",{type:"text",name:"filter",onChange:function(n){return e((0,rn.M)(n.target.value))},value:n})]})},un=document.querySelector("#modal-root"),cn=(0,i.forwardRef)((function(n,e){var t=n.id,r=(0,s.Nt)(),o=(0,b.Z)(r,2),i=o[0],u=o[1];console.log(u),console.log(t);var m=(0,a.I0)(),d=function(n){n&&(i(t),c.Am.success("Contact was deleted")),m((0,l.VN)(!1))};return(0,Q.createPortal)((0,C.jsx)(K.Y,{ref:e,onClick:function(n){return function(n){n.target===n.currentTarget&&m((0,l.VN)(!1))}(n)},children:(0,C.jsxs)(K.u,{children:[(0,C.jsx)("p",{children:"Do you really want delete this contact?"}),(0,C.jsxs)("div",{children:[(0,C.jsx)(B.Z,{onClick:function(){return d(!1)},padding:"5px 15px",children:"No"}),(0,C.jsx)(B.Z,{onClick:function(){return d(!0)},padding:"5px 15px",children:"Yes"})]})]})}),un)})),ln=t(5866),sn=d.ZP.ul(S||(S=(0,m.Z)(["\n  position: absolute;\n  top: 45px;\n  right: 20px;\n  width: 128px;\n  padding: 10px;\n  background-color: ",";\n\n  @media "," {\n    top: 45px;\n    width: 108px;\n    right: 15px;\n  }\n\n  &.drop-enter {\n    opacity: 0;\n    transform: translateY(-100px);\n  }\n\n  &.drop-enter-active {\n    transform: translateY(0px);\n    opacity: 1;\n    transition: all ","\n      ",";\n  }\n\n  &.drop-exit {\n    opacity: 1;\n    transform: translateY(0px);\n  }\n\n  &.drop-exit-active {\n    opacity: 0;\n    transform: translateY(-100px);\n    transition: all ","\n      ",";\n  }\n\n  & > li + li {\n    margin-top: 10px;\n  }\n"])),(function(n){return n.theme.listItemBcgColor}),f.U.mobileM,(function(n){return n.theme.animationDuration}),(function(n){return n.theme.animationTimeFunction}),(function(n){return n.theme.animationDuration}),(function(n){return n.theme.animationTimeFunction})),mn=(0,i.forwardRef)((function(n,e){var t=(0,i.useRef)([x.R2,x._4,x.iN]),r=(0,a.I0)();return(0,C.jsx)(sn,{ref:e,children:t.current.map((function(n){return(0,C.jsx)("li",{children:(0,C.jsx)(B.Z,{onClick:function(){!function(n){var e=n.theme;r((0,ln.Z)(e)),r((0,l.F5)(!1))}({theme:n})},padding:"5px 10px",children:n.name},n.name)},n.name)}))})})),dn=t(7710),fn=function(){var n=(0,i.useRef)(null),e=(0,i.useRef)(parseInt(x.R2.animationDuration)),t=(0,i.useRef)(null),r=(0,i.useRef)(null),o=(0,a.v9)((function(n){return n.rootReducer.isOpen.dropList})),m=(0,a.v9)((function(n){return n.rootReducer.isOpen.agreement})),d=(0,a.v9)((function(n){return n.rootReducer.isOpen.contactInfo})),f=(0,a.I0)(),g=(0,s.wY)({pollingInterval:3e3,refetchOnMountOrArgChange:!0}),b=g.data,v=void 0===b?[]:b,Z=g.isLoading,j=g.isSuccess,w=g.error;w&&c.Am.error("".concat(w.data.message));return console.log(v),(0,C.jsxs)(p,{onClick:function(n){n.target===n.currentTarget&&f((0,l.F5)(!1))},children:[(0,C.jsx)(B.Z,{onClick:function(){return f((0,l.F5)(!0))},padding:"5px 20px",children:"Choose theme"}),(0,C.jsx)(u.Z,{nodeRef:r,in:o,timeout:e.current,classNames:"drop",unmountOnExit:!0,children:(0,C.jsx)(mn,{ref:r})}),(0,C.jsx)("h1",{children:"Phonebook"}),(0,C.jsx)(k,{data:v}),(0,C.jsx)("h2",{children:"Contacts"}),(0,C.jsx)(an,{}),Z&&(0,C.jsx)(dn.Z,{}),(0,C.jsx)(u.Z,{in:v.length>0&&j,timeout:e.current,unmountOnExit:!0,children:(0,C.jsx)(J,{data:v,onClick:function(e){return n.current=e},onInfo:function(e){return n.current=e},animationTimeOut:e.current})}),(0,C.jsx)(u.Z,{nodeRef:t,in:m,timeout:e.current,classNames:"fade",unmountOnExit:!0,children:(0,C.jsx)(cn,{id:n.current,ref:t})}),(0,C.jsx)(u.Z,{nodeRef:t,in:d,timeout:e.current,classNames:"fade",unmountOnExit:!0,children:(0,C.jsx)(tn,{id:n.current,data:v,ref:t})}),(0,C.jsx)(h,{autoClose:3e3})]})}}}]);
//# sourceMappingURL=contacts-page.80f312d4.chunk.js.map